(function(){"use strict";var e={2749:function(e,t,r){var a=r(5130),o=r(6768);const s={class:"dark:bg-gray-900 py-2"},l={class:"p-5 w-11/12 antialiased mx-auto"};function c(e,t,r,a,c,n){const i=(0,o.g2)("ToastList"),d=(0,o.g2)("ToggleLightDarkMode"),u=(0,o.g2)("SecondaryComp");return(0,o.uX)(),(0,o.CE)("div",s,[(0,o.Lk)("div",l,[(0,o.bF)(i),(0,o.bF)(d),(0,o.bF)(u)])])}r(4114),r(4603),r(7566),r(8721);var n=r(4232),i=r(144);let d,u=null==localStorage.getItem("apiVersion")?"61.0":localStorage.getItem("apiVersion"),m={async getSession(e){e=p(e);const t="access_token",r=window.location.href.includes(t),a=localStorage.getItem(e+"_"+t);if(this.instanceHostname=e,r){if(window.location.href.includes(t)){const r=new URL(window.location.href),a=new URLSearchParams(r.hash.substring(1)),o=decodeURI(a.get(t));e=decodeURI(a.get("instance_url")).replace(/^https?:\/\//i,""),this.sessionId=o,localStorage.setItem(e+"_"+t,o)}}else if(a)this.sessionId=a;else{let t=await new Promise((t=>chrome.runtime.sendMessage({message:"getSession",sfHost:e},t)));t&&(this.instanceHostname=p(t.hostname),this.sessionId=t.key)}const o="isSandbox";null==localStorage.getItem(e+"_"+o)&&m.rest("/services/data/v"+u+"/query/?q=SELECT+IsSandbox,+InstanceName+FROM+Organization").then((t=>{localStorage.setItem(e+"_"+o,t.records[0].IsSandbox),localStorage.setItem(e+"_orgInstance",t.records[0].InstanceName)}))},async rest(e,{logErrors:t=!0,method:r="GET",api:a="normal",body:o,bodyType:s="json",responseType:l="json",headers:c={},progressHandler:n=null}={}){if(!this.instanceHostname)throw new Error("Instance Hostname not found");let i=new XMLHttpRequest;e+=(e.includes("?")?"&":"?")+"cache="+Math.random();const u="https://"+this.instanceHostname;if(i.open(r,u+e,!0),i.setRequestHeader("Accept","application/json; charset=UTF-8"),"bulk"==a)i.setRequestHeader("X-SFDC-Session",this.sessionId);else{if("normal"!=a)throw new Error("Unknown api");i.setRequestHeader("Authorization","Bearer "+this.sessionId)}if(void 0!==o)if("json"==s)o=JSON.stringify(o),i.setRequestHeader("Content-Type","application/json; charset=UTF-8");else if("raw"!=s)throw new Error("Unknown bodyType");for(let[d,g]of Object.entries(c))i.setRequestHeader(d,g);if(i.responseType=l,await new Promise(((e,t)=>{n&&(n.abort=()=>{let e=new Error("The request was aborted.");e.name="AbortError",t(e),i.abort()}),i.onreadystatechange=()=>{4==i.readyState&&e()},i.send(o)})),i.status>=200&&i.status<300)return i.response;if(0==i.status){t||console.error("Received no response from Salesforce REST API",i);let e=new Error;throw e.name="SalesforceRestError",e.message="Network error, offline or timeout",e}if(401==i.status){let e=i.response.length>0?i.response[0].message:"New access token needed";localStorage.getItem(this.instanceHostname+"_access_token")&&(d=e,v());let t=new Error;throw t.name="Unauthorized",t.message=e,t}{t||console.error("Received error response from Salesforce REST API",i);let e=new Error;e.name="SalesforceRestError",e.detail=i.response;try{e.message=e.detail.map((e=>`${e.errorCode}: ${e.message}${e.fields&&e.fields.length>0?` [${e.fields.join(", ")}]`:""}`)).join("\n")}catch(m){e.message=JSON.stringify(i.response)}throw e.message||(e.message="HTTP error "+i.status+" "+i.statusText),e}},wsdl(e,t){let r={Enterprise:{servicePortAddress:"/services/Soap/c/"+e,targetNamespaces:' xmlns="urn:enterprise.soap.sforce.com" xmlns:sf="urn:sobject.enterprise.soap.sforce.com"',apiName:"Enterprise"},Partner:{servicePortAddress:"/services/Soap/u/"+e,targetNamespaces:' xmlns="urn:partner.soap.sforce.com" xmlns:sf="urn:sobject.partner.soap.sforce.com"',apiName:"Partner"},Apex:{servicePortAddress:"/services/Soap/s/"+e,targetNamespaces:' xmlns="http://soap.sforce.com/2006/08/apex"',apiName:"Apex"},Metadata:{servicePortAddress:"/services/Soap/m/"+e,targetNamespaces:' xmlns="http://soap.sforce.com/2006/04/metadata"',apiName:"Metadata"},Tooling:{servicePortAddress:"/services/Soap/T/"+e,targetNamespaces:' xmlns="urn:tooling.soap.sforce.com" xmlns:sf="urn:sobject.tooling.soap.sforce.com" xmlns:mns="urn:metadata.tooling.soap.sforce.com"',apiName:"Tooling"}};return t&&(r=r[t]),r},async soap(e,t,r,{headers:a}={}){if(!this.instanceHostname||!this.sessionId)throw new Error("Session not found");let o=new XMLHttpRequest;o.open("POST","https://"+this.instanceHostname+e.servicePortAddress+"?cache="+Math.random(),!0),o.setRequestHeader("Content-Type","text/xml"),o.setRequestHeader("SOAPAction",'""');let s="Metadata"==e.apiName?"met:SessionHeader":"SessionHeader",l="Metadata"==e.apiName?"met:sessionId":"sessionId",c="Metadata"==e.apiName?`met:${t}`:t,n=['xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"','xmlns:xsd="http://www.w3.org/2001/XMLSchema"','xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"'];"Metadata"==e.apiName&&n.push('xmlns:met="http://soap.sforce.com/2006/04/metadata"');let i=g.stringify({name:"soapenv:Envelope",attributes:` ${n.join(" ")}${e.targetNamespaces}`,value:{"soapenv:Header":Object.assign({},{[s]:{[l]:this.sessionId}},a),"soapenv:Body":{[c]:r}}});if(o.responseType="document",await new Promise((e=>{o.onreadystatechange=()=>{4==o.readyState&&e(o)},o.send(i)})),200==o.status){let e=o.response.querySelector(t+"Response"),r=g.parse(e).result;return r}{console.error("Received error response from Salesforce SOAP API",o);let e=new Error;e.name="SalesforceSoapError",e.detail=o.response;try{e.message=o.response.querySelector("faultstring").textContent}catch(d){e.message="HTTP error "+o.status+" "+o.statusText}throw e}},asArray(e){return e?e instanceof Array?e:[e]:[]}};class g{static stringify({name:e,attributes:t,value:r}){function a(e,t){if(null==t)e.setAttribute("xsi:nil","true");else if("object"==typeof t)for(let[r,s]of Object.entries(t))if("_"==r)null==s?e.setAttribute("xsi:nil","true"):e.textContent=s;else if("$xsi:type"==r)e.setAttribute("xsi:type",s);else if(void 0===s);else if(Array.isArray(s))for(let t of s){let s=o.createElement(r);a(s,t),e.appendChild(s)}else{let t=o.createElement(r);a(t,s),e.appendChild(t)}else e.textContent=t}let o=(new DOMParser).parseFromString("<"+e+t+"/>","text/xml");return a(o.documentElement,r),'<?xml version="1.0" encoding="UTF-8"?>'+(new XMLSerializer).serializeToString(o).replace(/ xmlns=""/g,"")}static parse(e){function t(e){let r="",a=null;if("true"==e.getAttribute("xsi:nil"))return null;let o=e.getAttribute("xsi:type");o&&(a={"$xsi:type":o});for(let s=e.firstChild;null!=s;s=s.nextSibling)if(s instanceof CharacterData)r+=s.data;else{if(!(s instanceof Element))throw new Error("Unknown child node type");{null==a&&(a={});let e=s.localName,r=t(s);e in a?a[e]instanceof Array?a[e].push(r):a[e]=[a[e],r]:a[e]=r}}return a||r}return t(e)}}function p(e){if(e){const t=e.replace(/\.lightning\.force\./,".my.salesforce.").replace(/\.mcas\.ms$/,"");return t}return e}function v(){const e=document.getElementById("invalidTokenBanner");e&&e.classList.remove("hide");const t=document.getElementById("mainTabs");t&&t.classList.add("mask")}var f=(0,i.Kh)({items:[],add(e){this.items.unshift({key:Symbol(),...e})},remove(e){this.items.splice(e,1)}});const y=e=>{const t=/https:\/\/([^.]+)\.(lightning\.force\.com|my\.salesforce\.com|vf\.force\.com|my\.site\.com)$/,r=e.match(t);if(r)return r[1];const a=/https:\/\/([^.]+)\.sandbox\.(lightning\.force\.com|my\.salesforce\.com|vf\.force\.com|my\.site\.com)$/,o=e.match(a);if(o)return o[1];const s=/https:\/\/([^.]+)\.develop\.(lightning\.force\.com|my\.salesforce\.com|vf\.force\.com|my\.site\.com)$/,l=e.match(s);if(l)return l[1];const c=/https:\/\/([^-]+)-([^.]+)\.trailblaze\.(lightning\.force\.com|my\.salesforce\.com|vf\.force\.com|my\.site\.com)$/,n=e.match(c);return n?n[2]:null},h=(e,t)=>{f.add({message:{text:e,type:t??"Success"}})},b=[{name:"Query_GetCatalogCode",uri:`/services/data/v${u}/query/?q=SELECT Id, vlocity_cmt__CatalogCode__c FROM vlocity_cmt__Catalog__c`,method:"GET",contentType:"application/json",responeType:"json"},{name:"Query_AccountRecordType",uri:`/services/data/v${u}/query/?q=select Id,Name from RecordType where sObjectType='Account' AND Name IN ('Service','Billing','Consumer')`,method:"GET",contentType:"application/json",responeType:"json"},{name:"Query_PriceList",uri:`/services/data/v${u}/query/?q=SELECT Id,Name FROM vlocity_cmt__PriceList__c WHERE vlocity_cmt__IsActive__c = TRUE`,method:"GET",contentType:"application/json",responeType:"json"},{name:"Query_PriceBookEntryList",uri:`/services/data/v${u}/query/?q=SELECT Id,Name,Pricebook2.Name,Product2.Name,Product2.ProductCode, Product2.vlocity_cmt__Type__c, Product2.vlocity_cmt__SubType__c,Product2.Family FROM PricebookEntry WHERE Product2.vlocity_cmt__IsOrderable__c = True AND IsActive = True ORDER BY Name, Pricebook2.Name DESC`,method:"GET",contentType:"application/json",responeType:"json"},{name:"EPC_GetOffersByCatalogCode",uri:"/services/apexrest/vlocity_cmt/v3/catalogs/<RecordId>/offers",method:"GET",contentType:"application/json",responeType:"json"},{name:"CRUD_CompositeAPI",uri:`/services/data/v${u}/composite/`,method:"POST",contentType:"application/json",responeType:"json"},{name:"CPQ_CreateCart",uri:"/services/apexrest/vlocity_cmt/v2/carts",method:"POST",contentType:"application/json",responeType:"json"},{name:"CPQ_AddItemsToCart",uri:"/services/apexrest/vlocity_cmt/v2/cpq/carts/<RecordId>/items",method:"POST",contentType:"application/json",responeType:"json"},{name:"CPQ_CheckoutOrder",uri:"/services/apexrest/vlocity_cmt/v2/cpq/carts/<RecordId>/items/checkout",method:"POST",contentType:"application/json",responeType:"json"},{name:"CRUD_CompositeSobjects",uri:`/services/data/v${u}/composite/sobjects`,method:"PATCH",contentType:"application/json",responeType:"json"}],_=e=>{const t=b.find((t=>t.name==e));return t||null},k=e=>{const t={compositeRequest:[{method:"POST",url:`/services/data/v${u}/sobjects/Account`,referenceId:"refAccountCA",body:{Name:`CA ${e.faker.fullName} ${Math.floor(10*Math.random())}`,RecordTypeId:`${e.recordTypeCA}`,AccountNumber:`${e.faker.AccountNumbers.CA}`,vlocity_cmt__Status__c:"Active",Phone:`${e.faker.phone}`,BillingCity:`${e.faker.BillingCity}`,BillingCountry:`${e.faker.BillingCountry}`,BillingPostalCode:`${e.faker.BillingPostalCode}`,BillingState:`${e.faker.BillingState}`,BillingStreet:`${e.faker.BillingStreet}`,vlocity_cmt__Active__c:"Yes"}},{method:"POST",url:`/services/data/v${u}/sobjects/Account`,referenceId:"refAccountBA",body:{Name:`BA ${e.faker.fullName} ${Math.floor(10*Math.random())}`,RecordTypeId:`${e.recordTypeBA}`,AccountNumber:`${e.faker.AccountNumbers.BA}`,vlocity_cmt__Status__c:"Active",Phone:`${e.faker.phone}`,BillingCity:`${e.faker.BillingCity}`,BillingCountry:`${e.faker.BillingCountry}`,BillingPostalCode:`${e.faker.BillingPostalCode}`,BillingState:`${e.faker.BillingState}`,BillingStreet:`${e.faker.BillingStreet}`,vlocity_cmt__Active__c:"Yes",ParentId:"@{refAccountCA.id}"}},{method:"POST",url:`/services/data/v${u}/sobjects/Account`,referenceId:"refAccountSA",body:{Name:`SA ${e.faker.fullName} ${Math.floor(10*Math.random())}`,RecordTypeId:`${e.recordTypeSA}`,AccountNumber:`${e.faker.AccountNumbers.SA}`,vlocity_cmt__Status__c:"Active",Phone:`${e.faker.phone}`,BillingCity:`${e.faker.BillingCity}`,BillingCountry:`${e.faker.BillingCountry}`,BillingPostalCode:`${e.faker.BillingPostalCode}`,BillingState:`${e.faker.BillingState}`,BillingStreet:`${e.faker.BillingStreet}`,ShippingCity:`${e.faker.BillingCity}`,ShippingCountry:`${e.faker.BillingCountry}`,ShippingPostalCode:`${e.faker.BillingPostalCode}`,ShippingState:`${e.faker.BillingState}`,ShippingStreet:`${e.faker.BillingStreet}`,vlocity_cmt__Active__c:"Yes",ParentId:"@{refAccountBA.id}"}},{method:"POST",url:`/services/data/v${u}/sobjects/Contact`,referenceId:"refContact",body:{FirstName:`${e.faker.firstName}`,LastName:`${e.faker.lastName}`,Phone:`${e.faker.phone}`,OtherPhone:`${e.faker.phone}`,Email:`${e.faker.vlocity_cmt__BillingEmailAddress__c}`,MailingCity:`${e.faker.BillingCity}`,MailingCountry:`${e.faker.BillingCountry}`,MailingPostalCode:`${e.faker.BillingPostalCode}`,MailingStreet:`${e.faker.BillingState}`,AccountId:"@{refAccountSA.id}"}},{method:"POST",url:`/services/data/v${u}/sobjects/vlocity_cmt__Subscription__c`,referenceId:"refSubscription",body:{vlocity_cmt__AccountId__c:"@{refAccountCA.id}",vlocity_cmt__BillingAccountId__c:"@{refAccountBA.id}",vlocity_cmt__ServiceAccountId__c:"@{refAccountSA.id}",vlocity_cmt__ServiceIdentifier__c:`${e.faker.vlocity_cmt__ServiceIdentifier__c}`,vlocity_cmt__SubscriptionNumber__c:`${e.faker.vlocity_cmt__SubscriptionNumber__c}`,vlocity_cmt__Status__c:"Active",vlocity_cmt__StartDate__c:`${e.startDate}`,vlocity_cmt__EndDate__c:""}}],allOrNone:!0};return t},x=e=>{const t=String(e.getDate()).padStart(2,"0"),r=String(e.getMonth()+1).padStart(2,"0"),a=e.getFullYear();return`${a}-${r}-${t}`},w=e=>{const t=new Date,r=x(t),a={methodName:"createCart",objectType:"Order",inputFields:[{effectivedate:`${r}`},{status:"Draft"},{Name:"Headless CPQ Order"},{vlocity_cmt__PriceListId__c:`${e.priceListId}`},{AccountId:`${e.accId}`},{vlocity_cmt__DefaultBillingAccountId__c:`${e.billingAccountId}`},{vlocity_cmt__DefaultServiceAccountId__c:`${e.accId}`}],subaction:"createOrder",fields:"Id,Name,EffectiveDate,OrderNumber"};return a},S=e=>{const t={methodName:"postCartsItems",cartId:e.cartId,items:e.itemsArray,noResponseNeeded:!0};return t},C=e=>{const t={compositeRequest:[{method:"GET",url:`/services/data/v${u}/query/?q=SELECT Id FROM Asset WHERE AccountId ='${e.serviceAccId}'`,referenceId:"refAssetList"},{method:"GET",url:`/services/data/v${u}/query/?q=SELECT Id FROM OrderItem WHERE vlocity_cmt__ServiceAccountId__c ='${e.serviceAccId}'`,referenceId:"refOrderItemtList"},{method:"POST",url:`/services/data/v${u}/sobjects/vlocity_cmt__CustomerInteraction__c`,referenceId:"refCustInteraction",body:{Name:`Int for ${e.fullName}`,vlocity_cmt__Channel__c:"Agent",vlocity_cmt__Comments__c:"Sample comment, this record was created automatically.",vlocity_cmt__AccountId__c:`${e.serviceAccId}`,vlocity_cmt__ContactId__c:`${e.contactId}`,vlocity_cmt__Status__c:"Completed",vlocity_cmt__Type__c:"Call",vlocity_cmt__Verified__c:!0}}]};return t},A=e=>{const t={allOrNone:!0,records:e};return t};const I=async(e,t,r=!1)=>{const a=await new Promise(((e,r)=>{chrome.storage.local.get({[t]:[]},(r=>{const a=r[t];e(a)}))}));let o=a.find((t=>t.type===e.type));if(o){r&&o.items.forEach((e=>{!0===e.default&&(e.default=!1)}));const t=o.items.findIndex((t=>t.id===e.id));-1!==t?(o.items[t]=e,console.log("Item updated:",e)):(o.items.push(e),console.log("New item added:",e))}else o={type:e.type,items:[e]},a.push(o),console.log("New type category created with item:",e);return await new Promise(((e,r)=>{chrome.storage.local.set({[t]:a},(()=>{console.log("Record list updated for domain:",t),e()}))})),!0};const E=async e=>new Promise(((t,r)=>{chrome.storage.local.get({[e]:[]},(r=>{const a=r[e];t(a)}))})),T=async(e,t)=>{const r=await new Promise(((e,r)=>{chrome.storage.local.get({[t]:[]},(r=>{const a=r[t];e(a)}))})),a=r.findIndex((t=>t.items.some((t=>t.id===e))));return-1!==a?(r[a].items=r[a].items.filter((t=>t.id!==e)),chrome.storage.local.set({[t]:r},(()=>{console.log("Record with ID",e,"deleted for domain:",t)})),!0):(console.log("Item with ID",e,"not found for domain:",t),!1)};var L={__name:"GuidedFlow",props:{stage:{type:Object},selectedStage:{type:String}},emits:["stageSelected"],setup(e,{emit:t}){const r=e,a=t,s=()=>{a("stageSelected",r.stage.id)};return(t,r)=>((0,o.uX)(),(0,o.CE)("li",{class:"mb-10 ms-6 cursor-pointer",onClick:s},[(0,o.Lk)("span",{class:(0,n.C4)(["absolute flex items-center justify-center w-8 h-8 rounded-full -start-4",[e.stage.completed?"bg-green-200 dark:bg-green-900":"",e.stage.completed||e.selectedStage!==e.stage.id?"":"bg-blue-300",e.stage.completed||e.selectedStage===e.stage.id?"":"bg-gray-100 dark:bg-gray-700"]])},[((0,o.uX)(),(0,o.Wv)((0,o.$y)(e.stage.icon),{class:(0,n.C4)(["w-5 h-5",[e.stage.completed?"text-green-600 dark:text-green-400":"",e.stage.completed||e.selectedStage!==e.stage.id?"":"text-blue-600",e.stage.completed||e.selectedStage===e.stage.id?"":"text-gray-500 dark:text-gray-400"]])},null,8,["class"]))],2),(0,o.Lk)("h3",{class:(0,n.C4)(["font-medium leading-tight text-base",e.selectedStage===e.stage.id?"font-semibold text-gray-700 dark:text-gray-300":""])},(0,n.v_)(e.stage.title),3),(0,o.Lk)("p",{class:(0,n.C4)(["text-sm",e.selectedStage===e.stage.id?"font-semibold text-gray-600 dark:text-gray-400":""])},(0,n.v_)(e.stage.description),3)]))}};const P=L;var R=P;const $=["type"];var N={__name:"PrimaryButton",props:{type:{type:String,default:"submit"},isRed:Boolean,isBlue:Boolean},setup(e){return(t,r)=>((0,o.uX)(),(0,o.CE)("button",{type:e.type,class:(0,n.C4)({"bg-gray-800 dark:text-gray-800 dark:hover:bg-white hover:bg-gray-700 focus:bg-gray-700 active:bg-gray-900 dark:focus:ring-offset-gray-800":!e.isRed&&!e.isBlue,"bg-red-600 hover:bg-red-700 dark:bg-red-600 dark:hover:bg-red-700 dark:text-gray-200 dark:hover:text-red-100 focus:bg-red-700 focus:ring-red-500":e.isRed,"bg-blue-700 hover:bg-blue-800 dark:bg-blue-600 dark:hover:bg-blue-700 dark:text-gray-800 dark:hover:text-blue-100 focus:bg-blue-700 focus:ring-blue-500":e.isBlue,"inline-flex items-center px-4 py-2 dark:bg-gray-200 border border-transparent rounded-2xl font-semibold text-xs text-white uppercase tracking-widest dark:active:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2  transition ease-in-out duration-150":!0})},[(0,o.RG)(t.$slots,"default")],10,$))}};const O=N;var B=O;const j=["value"];var F={__name:"TextInput",props:{modelValue:String},emits:["update:modelValue"],setup(e,{expose:t}){const r=(0,i.KR)(null);return(0,o.sV)((()=>{r.value.hasAttribute("autofocus")&&r.value.focus()})),t({focus:()=>r.value.focus()}),(t,a)=>((0,o.uX)(),(0,o.CE)("input",{ref_key:"input",ref:r,class:"text-base border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-lg shadow-sm py-1 px-2 border outline-indigo-500 dark:outline-none",value:e.modelValue,onInput:a[0]||(a[0]=e=>t.$emit("update:modelValue",e.target.value))},null,40,j))}};const X=F;var q=X;const M=(0,o.Lk)("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),D=(0,o.Lk)("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1),W=[M,D];var K={__name:"LoadingCircle",props:{cssStyle:{type:String}},setup(e){return(t,r)=>((0,o.uX)(),(0,o.CE)(o.FK,null,[((0,o.uX)(),(0,o.CE)("svg",{class:(0,n.C4)(["animate-spin",e.cssStyle]),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},W,2)),(0,o.RG)(t.$slots,"default")],64))}};const H=K;var Q=H;const U={class:"block font-normal text-sm text-gray-600 dark:text-gray-300"};var G={__name:"TextDesc",props:{},setup(e){return(e,t)=>((0,o.uX)(),(0,o.CE)("p",U,[(0,o.RG)(e.$slots,"default")]))}};const V=G;var z=V;const J={class:"mt-2 mb-2 text-gray-500 dark:text-gray-400 leading-relaxed text-sm"};var Y={__name:"PageDescription",props:{value:String},setup(e){return(e,t)=>((0,o.uX)(),(0,o.CE)("p",J,[(0,o.RG)(e.$slots,"default")]))}};const Z=Y;var ee=Z;const te={class:"text-2xl font-semibold text-gray-700 dark:text-gray-50"},re={class:"text-blue-600 dark:text-blue-300 font-medium"};var ae={__name:"PageTitle",props:{value:String,subText:String},setup(e){return(t,r)=>((0,o.uX)(),(0,o.CE)("h1",te,[(0,o.RG)(t.$slots,"default"),e.subText?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[(0,o.eW)(" : "),(0,o.Lk)("span",re,(0,n.v_)(e.subText),1)],64)):(0,o.Q3)("",!0)]))}};const oe=ae;var se=oe;const le={class:"block font-semibold text-base text-gray-700 dark:text-gray-300"},ce={key:0},ne={key:1};var ie={__name:"InputLabel",props:{value:String},setup(e){return(t,r)=>((0,o.uX)(),(0,o.CE)("label",le,[(0,o.eW)((0,n.v_)(e.value)+" ",1),e.value?((0,o.uX)(),(0,o.CE)("span",ce)):((0,o.uX)(),(0,o.CE)("span",ne,[(0,o.RG)(t.$slots,"default")]))]))}};const de=ie;var ue=de;const me=["type"];var ge={__name:"SVGIconButton",props:{type:{type:String,default:"button"},icon:{type:String,default:""},color:{type:String,default:""},isSquare:{type:Boolean,default:!1}},setup(e){return(t,r)=>((0,o.uX)(),(0,o.CE)("button",{type:e.type,class:(0,n.C4)(["inline-flex items-center p-1 border shadow-md rounded-full font-semibold text-xs focus:outline-none disabled:opacity-25 transition ease-in-out duration-300",{"bg-rose-100 hover:bg-rose-200 border-rose-300/50 dark:bg-rose-700 dark:hover:bg-rose-600 dark:border-rose-900 ":"red"==e.color,"bg-green-100 hover:bg-green-200 border-green-300 dark:bg-green-700 dark:hover:bg-green-600 dark:border-green-900 ":"green"==e.color,"bg-blue-100 hover:bg-blue-200 border-blue-300 dark:bg-blue-700 dark:hover:bg-blue-600 dark:border-blue-900 ":"blue"==e.color,"bg-gray-100 hover:bg-gray-200 border-gray-300 dark:bg-zinc-600 dark:hover:bg-zinc-500 dark:border-gray-800 ":"gray"==e.color,"!rounded-md":e.isSquare}])},[((0,o.uX)(),(0,o.Wv)((0,o.$y)(e.icon),{class:(0,n.C4)(["w-4 h-4 stroke-2 transition duration-75",{"fill-red-700 hover:fill-red-800 dark:fill-red-100":"red"==e.color,"fill-green-700 hover:fill-green-800 dark:fill-green-100":"green"==e.color,"fill-blue-700 hover:fill-blue-800 dark:fill-blue-100":"blue"==e.color,"fill-gray-600 hover:fill-gray-700 dark:fill-gray-100":"gray"==e.color}])},null,8,["class"])),(0,o.RG)(t.$slots,"default")],10,me))}};const pe=ge;var ve=pe;const fe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},ye=(0,o.Lk)("path",{d:"m12 21l-1.45-1.3q-2.525-2.275-4.175-3.925T3.75 12.812T2.388 10.4T2 8.15Q2 5.8 3.575 4.225T7.5 2.65q1.3 0 2.475.55T12 4.75q.85-1 2.025-1.55t2.475-.55q2.35 0 3.925 1.575T22 8.15q0 1.15-.387 2.25t-1.363 2.412t-2.625 2.963T13.45 19.7z"},null,-1),he=[ye];function be(e,t){return(0,o.uX)(),(0,o.CE)("svg",fe,he)}var _e=r(1241);const ke={},xe=(0,_e.A)(ke,[["render",be]]);var we=xe,Se=r(961),Ce=r(772),Ae=r(5757),Ie=r(8789),Ee=r(4828),Te=r(9318),Le=r(3682),Pe=r(4725),Re=r(2644),$e=r(1562),Ne=r(1326),Oe=r(423);const Be={class:"flex justify-center text-center"},je={class:"flex flex-col"},Fe={key:1,class:"flex justify-between"},Xe={class:"container mx-auto"},qe={class:"flex flex-row flex-wrap py-4"},Me={class:"w-full sm:w-1/3 md:w-1/6 px-2"},De={class:"sticky top-0 p-4 w-full"},We={class:"relative text-gray-500 border-s border-gray-200 dark:border-gray-700 dark:text-gray-400"},Ke={role:"main",class:"w-full sm:w-2/3 md:w-4/5 pt-1 px-2"},He={key:0,class:"flex flex-col lg:flex-row space-y-4 lg:space-y-0 lg:space-x-4"},Qe={class:"w-full mr-3 lg:w-4/6"},Ue={class:"relative overflow-x-auto sm:rounded-lg w-full mt-2 border dark:border-gray-600 shadow-md"},Ge={class:"w-full text-sm text-left rtl:text-right text-gray-600 dark:text-gray-400"},Ve=(0,o.Lk)("thead",{class:"text-xs text-gray-700 uppercase border-b dark:border-gray-500 bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[(0,o.Lk)("tr",null,[(0,o.Lk)("th",{scope:"col",class:"px-6 py-3"}," Item "),(0,o.Lk)("th",{scope:"col",class:"px-6 py-3"}," Value ")])],-1),ze={scope:"row",class:"px-6 py-2 font-medium text-gray-900 whitespace-nowrap dark:text-gray-500"},Je={class:"px-6 py-2"},Ye={class:"w-full mr-3 lg:w-2/6"},Ze={class:"block w-full bg-gray-100 dark:bg-gray-700 dark:border-gray-600 mt-2 mb-4 p-4 rounded-md border"},et=(0,o.Lk)("p",{class:"text-sm text-gray-600 dark:text-gray-300 mt-4"},"You can generate virtually unlimited data by clicking above Refresh Button (It will not insert records in Salesforce)",-1),tt={class:"block w-full bg-gray-100 dark:bg-gray-700 dark:border-gray-600 mt-2 mb-4 p-4 rounded-md border"},rt={key:2,class:"flex justify-between"},at={key:0,class:"text-sm text-gray-600 dark:text-gray-300 mt-4"},ot=(0,o.Lk)("br",null,null,-1),st={key:1,class:"text-sm text-gray-600 dark:text-gray-300 mt-4"},lt={key:2},ct=["href"],nt=["href"],it=["href"],dt=["href"],ut=["href"],mt={key:1,class:"flex flex-col lg:flex-row space-y-4 lg:space-y-0 lg:space-x-4"},gt={class:"w-full mr-3 lg:w-4/6"},pt={class:"flex justify-start my-2"},vt=(0,o.Lk)("p",null,"Set Default",-1),ft={key:0,class:"block w-full bg-gray-100 dark:bg-gray-700 dark:border-gray-600 my-4 p-4 rounded-md border"},yt={class:"text-sm text-gray-600 dark:text-gray-300"},ht=["href"],bt={class:"w-full mr-3 lg:w-2/6"},_t={class:"block w-full bg-gray-100 dark:bg-gray-700 dark:border-gray-600 mt-2 mb-4 p-4 rounded-md border"},kt={key:1,class:"flex justify-between"},xt=(0,o.Lk)("p",{class:"text-sm text-gray-600 dark:text-gray-300 mt-4"},"Once your accounts are created, you can proceed to create order and then add items later.",-1),wt={key:2,class:"relative overflow-visible"},St={key:0},Ct={class:"flex flex-col lg:flex-row space-y-4 lg:space-y-0 lg:space-x-4"},At={class:"w-full mr-3 lg:w-4/6"},It={class:"flex items-start justify-items-center"},Et={key:0,class:"w-full mr-3 lg:w-2/6"},Tt={class:"flex justify-start"},Lt={key:1},Pt={key:1},Rt={key:3,class:"flex flex-col lg:flex-row space-y-4 lg:space-y-0 lg:space-x-4"},$t={class:"w-full mr-3 lg:w-4/6"},Nt={key:0,class:"block w-full bg-gray-100 dark:bg-gray-700 dark:border-gray-600 mb-4 p-4 rounded-md border"},Ot={class:"text-sm text-gray-600 dark:text-gray-300"},Bt=["href"],jt={key:0,class:"mt-4"},Ft=(0,o.Lk)("p",{class:"text-sm text-gray-600 dark:text-gray-300"},"You can patch Assets, Order Items and create Interaction Records by clicking below button (Once order is activated).",-1),Xt={key:1,class:"w-full mr-3 lg:w-1/2"},qt={class:"w-full mr-3 lg:w-2/6"},Mt={key:0,class:"block w-full bg-gray-100 dark:bg-gray-700 dark:border-gray-600 mt-2 mb-4 p-4 rounded-md border"},Dt={key:1,class:"flex justify-between"},Wt=(0,o.Lk)("p",{class:"text-sm text-gray-600 dark:text-gray-300 mt-4"},"After adding your products to cart/order, you can finally submit the order for fulfilment.",-1),Kt={key:1},Ht={name:"indexComp"};var Qt=Object.assign(Ht,{setup(e){const t=(0,i.KR)(""),r=(0,i.KR)(""),a="CPQ Test Data Generator",s=(e,r,a,o)=>{let s;const l=_(e);console.log("sfdcActionItem --\x3e "+l.uri),s=a?l.uri.replace("<RecordId>",a):l.uri;const c={method:o??"GET",body:r||{}};return new Promise(((e,r)=>{m.getSession(t.value).then((()=>{let t=m.rest(s,c);t.then((t=>{e(t)})).catch((e=>{console.error("Error fetching limits: ",e),r(e)}))})).catch((e=>{console.error("Error getting session: ",e),r(e)}))}))},l=["Product2.ProductCode","Name","Product2.vlocity_cmt__Type__c","Product2.vlocity_cmt__SubType__c"],c=(0,i.KR)(""),d=[{text:"Action",value:"Actions",width:100},{text:"Name",value:"Name",width:250},{text:"Type",value:"Product2.vlocity_cmt__Type__c",width:150,sortable:!0},{text:"Sub Type",value:"Product2.vlocity_cmt__SubType__c",width:100,sortable:!0},{text:"Product Code",value:"Product2ProductCode",width:200},{text:"Family",value:"Product2.Family",width:100,sortable:!0}],u=[{text:"Product Name",value:"Name"},{text:"Quantity",value:"fieldsToUpdate.quantity"}],g=((0,i.KR)([""]),(0,i.KR)([])),p=(0,i.KR)([]),v=((0,i.KR)(""),(0,i.KR)("")),f=(0,i.KR)("random_data"),b=(0,i.KR)(""),x=(0,i.KR)(null),L=(0,i.KR)(!1),P=(0,i.KR)(!1),$=(0,i.KR)(!1),N=(0,i.KR)(!1),O=(0,i.KR)(!1),j=(0,i.KR)(!1),F=(0,i.KR)(null),X=(0,i.KR)(!1),M=(0,i.KR)(!1),D=(0,i.KR)([]),W=(0,i.KR)(""),K=(0,i.KR)(""),H=(0,i.KR)([]),U=(0,i.KR)([{id:"random_data",title:"Random Data",description:"Check/Refresh and Insert Records",icon:Ie.A,completed:!1},{id:"create_order",title:"Create Order",description:"Create order with above SA Account.",icon:Ee.A,completed:!1},{id:"add_to_cart",title:"Add to Cart",description:"Add products to Order",icon:Te.A,completed:!1},{id:"submit_order",title:"Checkout",description:"Submit your order for activation",icon:Le.A,completed:!1}]),G=e=>{f.value=e},V=e=>{const t=U.value.find((t=>t.id===e));t&&(t.completed=!0)},J=async()=>{try{const e=await s("Query_AccountRecordType",null,null,"GET");b.value=e?.records.map((e=>({Id:e.Id,Name:e.Name})))}catch(e){console.log("error --\x3e "+e),j.value=!1,h("getAccountRecordType failed, check dev console","Error")}},Y=e=>{const t=b.value.find((t=>t.Name===e));return t?t.Id:null},Z=()=>{const e=Ae.a.person.firstName(),t=Ae.a.person.lastName();x.value={firstName:e,lastName:t,fullName:e+" "+t,phone:Ae.a.phone.number(),BillingCity:Ae.a.location.city(),BillingCountry:"Australia",BillingPostalCode:Ae.a.location.zipCode("#####"),BillingState:Ae.a.location.state(),BillingStreet:Ae.a.location.streetAddress(!0),vlocity_cmt__SubscriptionNumber__c:Ae.a.helpers.fromRegExp(/[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}/),vlocity_cmt__ServiceIdentifier__c:Ae.a.helpers.fromRegExp(/[0-9]{10}/),AccountNumbers:{SA:Ae.a.helpers.fromRegExp(/[0-9]{6}/),BA:Ae.a.helpers.fromRegExp(/[0-9]{6}/),CA:Ae.a.helpers.fromRegExp(/[0-9]{6}/)},vlocity_cmt__BillingEmailAddress__c:e+"_"+t+"@test.com"}},te=async()=>{P.value=!0;try{const e={recordTypeSA:Y("Service"),recordTypeBA:Y("Billing"),recordTypeCA:Y("Consumer"),startDate:(new Date).toJSON(),faker:x.value},t=k(e);console.log("reqStr --\x3e "+JSON.stringify(t));const r=await s("CRUD_CompositeAPI",t,null,"POST");console.log("createAccountRecords --\x3e "+JSON.stringify(r));const a=ae("refAccountSA",r.compositeResponse);400==a?h("Something failed, please check console.","Error"):(D.value=r.compositeResponse.map((e=>({refId:e.referenceId,id:e.body.id}))),h("Accounts, Contact and Subscription records are created.","Success"),V("random_data"))}catch(e){h("Something failed, please check console.","Error"),console.log("error --\x3e "+e)}P.value=!1},re=e=>{const t=D.value.find((t=>t.refId===e));return t?t.id:null},ae=(e,t)=>{const r=t.find((t=>t.referenceId===e));return r?r.httpStatusCode:null},oe=async()=>{$.value=!0;const e=re("refAccountSA"),t=re("refAccountBA");if(null==e)return h("Please create Accounts and related data first","Error"),f.value="random_data",void($.value=!1);try{const r={accId:e,billingAccountId:t,priceListId:v.value},a=w(r);console.log("createOrder reqStr --\x3e "+JSON.stringify(a));const o=await s("CPQ_CreateCart",a,null,"POST");console.log("createOrder --\x3e "+JSON.stringify(o)),o.records.length>0?(W.value=o.records[0].Id,K.value=o.records[0].OrderNumber,V("create_order"),h("Order has been created : "+K.value,"Sucess")):(console.log("No order found."),h("No order found.","Error"))}catch(r){console.log("error --\x3e "+r),h("Something has failed, please check dev console.","Error")}$.value=!1},le=async()=>{try{const e=await s("Query_PriceList",null,null,"GET");p.value=e?.records.map((e=>({Id:e.Id,Name:e.Name}))),v.value=await zt(),null==v.value&&(v.value=p.value[0].Id),console.log("getPriceList selectedPriceList --\x3e "+v.value),console.log("getPriceList --\x3e "+JSON.stringify(p.value))}catch(e){h("getPriceList failed, check dev console","Error"),console.log("error --\x3e "+e),j.value=!1}},ce=async()=>{try{const e=await s("Query_PriceBookEntryList",null,null,"GET"),t=await Jt();console.log("favProductList --\x3e "+JSON.stringify(t)),g.value=e?.records.map((e=>{const r=t.includes(e.Id);return r&&me(e.Id,e.Name,!0),{...e,isChecked:r}})).sort(((e,t)=>t.isChecked-e.isChecked)),console.log("productList --\x3e "+JSON.stringify(g.value))}catch(e){console.log("error --\x3e "+e),j.value=!1,h("getProductList failed, check dev console","Error")}},ne=(e,t,r,a)=>{const o={Name:e,itemId:t,parentId:r,fieldsToUpdate:a};H.value.push(o);const s=g.value.find((e=>e.Id===t));s&&(s.isChecked=!0)},ie=async e=>{H.value=H.value.filter((t=>t.itemId!==e));const r=g.value.find((t=>t.Id===e));r&&(r.isChecked=!1,await T(e,t.value))},de=()=>{H.value=[],g.value=g.value.map((e=>({...e,isChecked:!1})))},me=async(e,t,r)=>{console.log("inside"+e+" | "+t+"  |  "+r),r?ne(t,e,e,{quantity:1}):await ie(e)},ge=async()=>{if(L.value)h("Order is submitted hence can't add products anymore.","Error");else if(0!=H.value.length){if(""==W.value||null==W.value)return f.value="create_order",void h("Please create order first.","Error");N.value=!0;try{const e=[{itemId:H.value.map((({itemId:e})=>e)).join(","),fieldsToUpdate:H.value.reduce(((e,{fieldsToUpdate:t})=>({...e,...t})),{})}],t={cartId:W.value,itemsArray:e},r=S(t);console.log("addItemsToCart reqStr --\x3e "+JSON.stringify(r));const a=await s("CPQ_AddItemsToCart",r,W.value,"POST");if(console.log("addItemsToCart response --\x3e "+JSON.stringify(a)),a?.messages.length>0&&"109"==a?.messages[0].code)return h("Add to cart failed, please refresh and try again with new data","Error"),h(a?.messages[0].message,"Error"),void(N.value=!1);V("add_to_cart"),h("Selected Items added to cart.","Sucess")}catch(e){console.log("error --\x3e "+e),h("Something has failed, please check dev console.","Error")}N.value=!1}else h("Please add items to cart.","Error")},pe=async()=>{if(""==W.value)return f.value="create_order",void h("Please create order first and add items as well.","Error");O.value=!0;try{const e={},t=await s("CPQ_CheckoutOrder",e,W.value,"POST");console.log("checkoutOrder --\x3e "+JSON.stringify(t)),V("submit_order"),h("Order submitted successfully.","Success"),L.value=!0}catch(e){console.log("error --\x3e "+e),h("Something has failed, please check dev console.","Error")}O.value=!1},fe=(0,i.KR)([]),ye=(0,i.KR)([]),he=async()=>{const e={serviceAccId:re("refAccountSA"),fullName:x.value.fullName,contactId:re("refContact")},t=C(e),r=await s("CRUD_CompositeAPI",t,null,"POST");fe.value=Ut("refAssetList",r?.compositeResponse),ye.value=Ut("refOrderItemtList",r?.compositeResponse),await Ht()},be=(e,t,r,a)=>({attributes:{type:"Asset"},id:e,vlocity_cmt__ServiceIdentifier__c:t,vlocity_cmt__SubscriptionId__c:r,vlocity_cmt__OrderId__c:a,Status:"Active"}),_e=(e,t,r,a)=>({attributes:{type:"Asset"},id:e,vlocity_cmt__BillingAccountId__c:a,vlocity_cmt__SubscriptionId__c:r,vlocity_cmt__ServiceIdentifier__c:t});let ke=0;const xe=5,Ht=async()=>{try{const e=x.value.vlocity_cmt__ServiceIdentifier__c,t=re("refAccountBA"),r=re("refSubscription"),a=fe.value.map((t=>be(t,e,r,W.value))),o=fe.value.map((a=>_e(a,e,r,t))),s=[...a,...o];s.length>0?await Qt(s):ke<xe?(ke++,setTimeout((async()=>{await he()}),5e3),h(`Retrying record patching in 5 Seconds... Attempt ${ke} of ${xe}`,"Success")):(M.value=!1,h("Max retry attempts reached. Please patch manually.","Error"))}catch(e){console.log("error --\x3e "+e),h("Something had failed, please check dev console","Error"),M.value=!1}},Qt=async e=>{const t=A(e);console.log("CRUD_CompositeSobjects request --\x3e "+JSON.stringify(t));const r=await s("CRUD_CompositeSobjects",t,null,"PATCH");console.log("CRUD_CompositeSobjects response --\x3e "+JSON.stringify(r)),h("Assets, Order Items patched successfully","Success"),M.value=!0},Ut=(e,t)=>{const r=t.find((t=>t.referenceId===e));if(200===r?.httpStatusCode){const e=r?.body?.records||[];return e.map((e=>e.Id))}return[]},Gt=async()=>{try{const e=p.value.find((e=>e.Id==v.value)),r=e?e.Name:v.value,a={type:"priceList",id:v.value,name:r,default:!0},o=await I(a,t.value,!0);console.log("priceList save result--\x3e "+o),h("Default pricelist saved to : "+r,"Success")}catch(e){console.log("error --\x3e "+e),h("Something failed, please check dev console","Error")}},Vt=async(e,r)=>{try{const a={type:"productList",id:e,name:r,default:!0},o=await I(a,t.value,!1);console.log("priceList save result--\x3e "+o),h("Default pricelist saved to : "+r,"Success")}catch(a){console.log("error --\x3e "+a),h("Something failed, please check dev console","Error")}},zt=async()=>{const e=await E(t.value);if(e?.length>0){const t=e.find((e=>"priceList"===e.type));if(t&&t.items.length>0){const e=t.items.find((e=>!0===e.default));return v.value=e?e?.id:t?.items[0]?.id,v.value}}return null},Jt=async()=>{const e=await E(t.value),r=[];if(e?.length>0){const t=e.find((e=>"productList"===e.type));t&&t.items.length>0&&r.push(...t.items.map((e=>e.id)))}return console.log("selectedProducts --\x3e "+JSON.stringify(r)),r},Yt=()=>{U.value.forEach((e=>{e.completed=!1}))},Zt=()=>{Z(),Yt(),D.value=[],H.value=[],W.value="",K.value="",L.value=!1,M.value=!1,f.value="random_data",fe.value=[],ye.value=[]},er=async()=>{if(j.value)h("Please let the data initialize first then proceed.","Error");else{if(0==H.value.length)return h("Please select some products from Add to cart page.","Error"),void(f.value="add_to_cart");try{X.value=!0,F.value="Creating Accounts..",await te(),F.value="Creating Order..",f.value="create_order",await oe(),F.value="Adding items to Order..",f.value="add_to_cart",await ge(),F.value="Submitting Order..",f.value="submit_order",await pe(),F.value="Patching Assets, Order Items..",await he(),F.value=null,X.value=!1}catch(e){F.value=null,X.value=!1,console.log("error --\x3e "+e),h("Something failed, please check dev console","Error")}h("All data has been created successfully, Order Number : "+K.value,"Success"),f.value="submit_order"}},tr=async()=>{j.value=!0,await J(),await le(),await ce(),j.value=!1};return(0,o.sV)((async()=>{let e=new URLSearchParams(location.search.slice(1)),o=e.get("host");t.value=o,r.value=y(`https://${t.value}`),document.title=a,Z(),await tr()})),(e,r)=>((0,o.uX)(),(0,o.CE)(o.FK,null,[t.value?((0,o.uX)(),(0,o.Wv)(z,{key:0,class:"mt-2 mb-4"},{default:(0,o.k6)((()=>[(0,o.eW)("Current Org : "+(0,n.v_)(t.value),1)])),_:1})):(0,o.Q3)("",!0),(0,o.Lk)("div",Be,[(0,o.Lk)("div",je,[(0,o.bF)(se,null,{default:(0,o.k6)((()=>[(0,o.eW)("Vlocity CPQ Test Data Generator")])),_:1}),(0,o.bF)(ee,null,{default:(0,o.k6)((()=>[(0,o.eW)("Create accounts, order, add products from pricelist and submit order.")])),_:1}),(0,o.Lk)("div",null,[(0,o.bF)(B,{onClick:er,isBlue:!0},{default:(0,o.k6)((()=>[X.value?((0,o.uX)(),(0,o.Wv)(Q,{key:0,cssStyle:"h-4 w-4 mr-2"},{default:(0,o.k6)((()=>[(0,o.eW)((0,n.v_)(F.value??"Loading.."),1)])),_:1})):((0,o.uX)(),(0,o.CE)("div",Fe,[(0,o.bF)((0,i.R1)(Pe.A),{class:"h-4 w-4 text-gray-100 dark:text-gray-500 mr-2"}),(0,o.eW)(" One Click Create ")]))])),_:1})])])]),(0,o.Lk)("div",Xe,[(0,o.Lk)("div",qe,[(0,o.Lk)("aside",Me,[(0,o.Lk)("div",De,[(0,o.Lk)("ol",We,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(U.value,((e,t)=>((0,o.uX)(),(0,o.Wv)(R,{key:t,stage:e,selectedStage:f.value,onStageSelected:G},null,8,["stage","selectedStage"])))),128))])])]),(0,o.Lk)("main",Ke,["random_data"==f.value?((0,o.uX)(),(0,o.CE)("div",He,[(0,o.Lk)("div",Qe,[(0,o.bF)(ue,{value:"Random Dummy Data"}),(0,o.Lk)("div",Ue,[(0,o.Lk)("table",Ge,[Ve,(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(x.value,((e,t)=>((0,o.uX)(),(0,o.CE)("tr",{key:t,class:"bg-white dark:bg-gray-900 border-b dark:border-gray-700/80"},[(0,o.Lk)("th",ze,(0,n.v_)(t),1),(0,o.Lk)("td",Je,(0,n.v_)(e),1)])))),128))])])])]),(0,o.Lk)("div",Ye,[(0,o.bF)(ue,{value:"Actions"}),(0,o.Lk)("div",Ze,[(0,o.bF)(B,{onClick:Z},{default:(0,o.k6)((()=>[(0,o.bF)((0,i.R1)(Re.A),{class:"h-4 w-4 text-gray-100 dark:text-gray-500 mr-2"}),(0,o.eW)(" Refresh Data ")])),_:1}),et]),(0,o.Lk)("div",tt,[(0,o.bF)(B,{onClick:te},{default:(0,o.k6)((()=>[P.value?((0,o.uX)(),(0,o.Wv)(Q,{key:0,cssStyle:"h-4 w-4 mr-2"},{default:(0,o.k6)((()=>[(0,o.eW)("Creating data...")])),_:1})):j.value?((0,o.uX)(),(0,o.Wv)(Q,{key:1,cssStyle:"h-4 w-4 mr-2"},{default:(0,o.k6)((()=>[(0,o.eW)("Initializing required data... ")])),_:1})):((0,o.uX)(),(0,o.CE)("div",rt,[(0,o.bF)((0,i.R1)($e.A),{class:"h-4 w-4 text-gray-100 dark:text-gray-500 mr-2"}),(0,o.eW)(" Create Accounts ")]))])),_:1}),0==D.value.length?((0,o.uX)(),(0,o.CE)("p",at,[(0,o.eW)("Click above button to create records for "),ot,(0,o.eW)("Consumer Account > Billing Account > Service Account (as Hierarchy) along with Contact and Subscription.")])):(0,o.Q3)("",!0),D.value.length>0?((0,o.uX)(),(0,o.CE)("p",st,"You can access CA, BA, SA, Contact and Subscription from below links.")):(0,o.Q3)("",!0),D.value.length>0?((0,o.uX)(),(0,o.CE)("div",lt,[(0,o.Lk)("a",{href:`https://${t.value}/lightning/r/Account/${re("refAccountCA")}/view`,target:"_blank",class:"text-blue-700 dark:text-blue-100 hover:text-blue-800 font-semibold text-sm mb-2 mt-4 block w-full"}," Consumer Account",8,ct),(0,o.Lk)("a",{href:`https://${t.value}/lightning/r/Account/${re("refAccountBA")}/view`,target:"_blank",class:"text-blue-700 dark:text-blue-100 hover:text-blue-800 font-semibold text-sm mb-2 block w-full"}," Billing Account",8,nt),(0,o.Lk)("a",{href:`https://${t.value}/lightning/r/Account/${re("refAccountSA")}/view`,target:"_blank",class:"text-blue-700 dark:text-blue-100 hover:text-blue-800 font-semibold text-sm mb-2 block w-full"}," Service Account",8,it),(0,o.Lk)("a",{href:`https://${t.value}/lightning/r/Contact/${re("refContact")}/view`,target:"_blank",class:"text-blue-700 dark:text-blue-100 hover:text-blue-800 font-semibold text-sm mb-2 block w-full"}," Contact",8,dt),(0,o.Lk)("a",{href:`https://${t.value}/lightning/r/vlocity_cmt__Subscription__c/${re("refSubscription")}/view`,target:"_blank",class:"text-blue-700 dark:text-blue-100 hover:text-blue-800 font-semibold text-sm mb-2 block w-full"}," Subscription",8,ut)])):(0,o.Q3)("",!0)])])])):(0,o.Q3)("",!0),"create_order"==f.value?((0,o.uX)(),(0,o.CE)("div",mt,[(0,o.Lk)("div",gt,[(0,o.bF)(ue,{value:"Select Price List",class:"text-sm font-normal"}),(0,o.Lk)("div",pt,[(0,o.bF)((0,i.R1)(Se.A),{label:"Name",options:p.value,modelValue:v.value,"onUpdate:modelValue":r[0]||(r[0]=e=>v.value=e),reduce:e=>e.Id,class:"w-5/12 mr-4"},null,8,["options","modelValue","reduce"]),(0,o.bF)(B,{onClick:Gt},{default:(0,o.k6)((()=>[(0,o.bF)((0,i.R1)(Ne.A),{class:"h-4 w-4 text-gray-100 dark:text-gray-500 mr-2"}),vt])),_:1})]),W.value?((0,o.uX)(),(0,o.CE)("div",ft,[(0,o.Lk)("p",yt,"New order created : "+(0,n.v_)(K.value),1),(0,o.Lk)("a",{href:`https://${t.value}/lightning/r/Order/${W.value}/view`,target:"_blank",class:"text-blue-700 dark:text-blue-100 hover:text-blue-800 font-semibold text-sm mb-2 mt-4 block w-full"},(0,n.v_)(W.value),9,ht)])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",bt,[(0,o.bF)(ue,{value:"Actions"}),(0,o.Lk)("div",_t,[(0,o.bF)(B,{class:"mr-2",onClick:oe},{default:(0,o.k6)((()=>[$.value?((0,o.uX)(),(0,o.Wv)(Q,{key:0,cssStyle:"h-4 w-4 mr-2"},{default:(0,o.k6)((()=>[(0,o.eW)("Creating order... ")])),_:1})):((0,o.uX)(),(0,o.CE)("div",kt,[(0,o.bF)((0,i.R1)(Ee.A),{class:"h-4 w-4 text-gray-100 dark:text-gray-500 mr-2"}),(0,o.eW)(" Create Order ")]))])),_:1}),xt])])])):"add_to_cart"==f.value?((0,o.uX)(),(0,o.CE)("div",wt,[g.value.length>0?((0,o.uX)(),(0,o.CE)("div",St,[(0,o.Lk)("div",Ct,[(0,o.Lk)("div",At,[(0,o.bF)(ue,{value:"Product List (from PricebookEntry)"}),(0,o.Lk)("div",It,[(0,o.bF)(q,{modelValue:c.value,"onUpdate:modelValue":r[1]||(r[1]=e=>c.value=e),type:"text",class:"my-4 mr-4 !px-2 !py-1",placeholder:"Search any product.."},null,8,["modelValue"])]),(0,o.bF)((0,i.R1)(Ce.A),{headers:d,items:g.value,"search-field":l,"rows-per-page":12,"header-text-direction":"center","search-value":c.value,"no-hover":!0,"theme-color":"#312e3d","table-class-name":"tableCSS mb-12 rounded-lg border dark:border-gray-700 shadow-md"},{"item-Actions":(0,o.k6)((({Id:e,Name:t,isChecked:r})=>[(0,o.bF)(q,{type:"checkbox",class:"my-2 ml-2 mr-2 cursor-pointer",onChange:r=>me(e,t,r.target.checked),checked:r},null,8,["onChange","checked"]),(0,o.bF)(ve,{onClick:r=>Vt(e,t),icon:we,isSquare:!1,color:"gray",class:"!p-1 ml-2",title:"Add to Favorite"},null,8,["onClick"])])),"item-Product2ProductCode":(0,o.k6)((({Product2:e})=>[(0,o.eW)((0,n.v_)(e.ProductCode),1)])),_:1},8,["items","search-value"])]),H.value.length>0?((0,o.uX)(),(0,o.CE)("div",Et,[(0,o.bF)(ue,{value:"Selected Products"}),(0,o.Lk)("div",Tt,[(0,o.bF)(B,{class:"mr-2 my-4",onClick:ge},{default:(0,o.k6)((()=>[N.value?((0,o.uX)(),(0,o.Wv)(Q,{key:0,cssStyle:"h-4 w-4 mr-2"},{default:(0,o.k6)((()=>[(0,o.eW)("Adding items... ")])),_:1})):((0,o.uX)(),(0,o.CE)("p",Lt,"Add Items to Cart"))])),_:1}),(0,o.bF)(B,{class:"mr-2 my-4",isRed:!0,onClick:de},{default:(0,o.k6)((()=>[(0,o.eW)("Reset")])),_:1})]),(0,o.bF)((0,i.R1)(Ce.A),{headers:u,items:H.value,"search-field":l,"rows-per-page":12,"header-text-direction":"center","search-value":c.value,"no-hover":!0,"theme-color":"#312e3d","table-class-name":"tableCSS mb-12 rounded-lg border dark:border-gray-700 shadow-md"},null,8,["items","search-value"])])):(0,o.Q3)("",!0)])])):((0,o.uX)(),(0,o.CE)("div",Pt,[(0,o.bF)(B,{class:"mr-2 my-4"},{default:(0,o.k6)((()=>[(0,o.bF)(Q,{cssStyle:"h-4 w-4 mr-2"},{default:(0,o.k6)((()=>[(0,o.eW)("Products are loading... ")])),_:1})])),_:1})]))])):(0,o.Q3)("",!0),"submit_order"==f.value?((0,o.uX)(),(0,o.CE)("div",Rt,[(0,o.Lk)("div",$t,[L.value?((0,o.uX)(),(0,o.CE)("div",Nt,[(0,o.Lk)("p",Ot,"Order : "+(0,n.v_)(K.value)+" has been submitted, you can check it in your org by visiting below link for further fulfilment..",1),(0,o.Lk)("a",{href:`https://${t.value}/lightning/r/Order/${W.value}/view`,target:"_blank",class:"text-blue-700 dark:text-blue-100 hover:text-blue-800 font-semibold text-sm mb-2 mt-4 block w-full"}," Open Order in SF",8,Bt),M.value?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",jt,[Ft,(0,o.bF)(B,{onClick:he,class:"mt-4"},{default:(0,o.k6)((()=>[(0,o.eW)(" Patch Records ")])),_:1})]))])):(0,o.Q3)("",!0),H.value.length>0?((0,o.uX)(),(0,o.CE)("div",Xt,[(0,o.bF)(ue,{value:K.value?"Selected Products for Order : "+K.value:"Selected Products",class:"mb-2"},null,8,["value"]),(0,o.bF)((0,i.R1)(Ce.A),{headers:u,items:H.value,"search-field":l,"rows-per-page":12,"header-text-direction":"center","search-value":c.value,"no-hover":!0,"theme-color":"#312e3d","table-class-name":"tableCSS mb-12 rounded-lg border dark:border-gray-700 shadow-md"},null,8,["items","search-value"])])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",qt,[L.value?((0,o.uX)(),(0,o.CE)("div",Kt,[(0,o.bF)(B,{onClick:Zt},{default:(0,o.k6)((()=>[(0,o.eW)(" Restart Flow ")])),_:1})])):((0,o.uX)(),(0,o.CE)("div",Mt,[(0,o.bF)(B,{onClick:pe},{default:(0,o.k6)((()=>[O.value?((0,o.uX)(),(0,o.Wv)(Q,{key:0,cssStyle:"h-4 w-4 mr-2"},{default:(0,o.k6)((()=>[(0,o.eW)("Submitting Order... ")])),_:1})):((0,o.uX)(),(0,o.CE)("div",Dt,[(0,o.bF)((0,i.R1)(Oe.A),{class:"h-4 w-4 text-gray-100 dark:text-gray-500 mr-2"}),(0,o.eW)(" Checkout Order ")]))])),_:1}),Wt]))])])):(0,o.Q3)("",!0)])])])],64))}});const Ut=Qt;var Gt=Ut;const Vt={for:"theme",class:"theme md:top-6 md:right-6 z-40 rounded-2xl dark:shadow-xl absolute top-1 right-1"},zt={class:"theme__toggle-wrap"},Jt=(0,o.Fv)('<span class="theme__icon" data-v-76a18a32><span class="theme__icon-part" data-v-76a18a32></span><span class="theme__icon-part" data-v-76a18a32></span><span class="theme__icon-part" data-v-76a18a32></span><span class="theme__icon-part" data-v-76a18a32></span><span class="theme__icon-part" data-v-76a18a32></span><span class="theme__icon-part" data-v-76a18a32></span><span class="theme__icon-part" data-v-76a18a32></span><span class="theme__icon-part" data-v-76a18a32></span><span class="theme__icon-part" data-v-76a18a32></span></span>',1);var Yt={__name:"ToggleLightDarkMode",setup(e){const t=(0,i.KR)(!1);(0,o.sV)((()=>{const e=localStorage.getItem("color-theme");("dark"===e||!e&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&(t.value=!0,document.documentElement.classList.add("dark"))}));const r=()=>{t.value=!t.value,t.value?(document.documentElement.classList.add("dark"),localStorage.setItem("color-theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("color-theme","light"))};return(e,s)=>((0,o.uX)(),(0,o.CE)("label",Vt,[(0,o.Lk)("span",zt,[(0,o.bo)((0,o.Lk)("input",{id:"theme",class:"theme__toggle",type:"checkbox",role:"switch",name:"theme",value:"dark",onClick:r,"onUpdate:modelValue":s[0]||(s[0]=e=>t.value=e)},null,512),[[a.lH,t.value]]),Jt])]))}};const Zt=(0,_e.A)(Yt,[["__scopeId","data-v-76a18a32"]]);var er=Zt;const tr={class:"flex items-center rounded-lg bg-white p-4 text-gray-500 shadow-2xl dark:bg-gray-900 dark:text-gray-400 border border-gray-100 dark:border-gray-700",role:"alert"},rr={key:0,class:"inline-flex items-center justify-center flex-shrink-0 w-8 h-8 text-green-500 bg-green-100 rounded-lg dark:bg-green-800 dark:text-green-200"},ar=(0,o.Lk)("svg",{class:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[(0,o.Lk)("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"})],-1),or=(0,o.Lk)("span",{class:"sr-only"},"Check icon",-1),sr=[ar,or],lr={key:1,class:"inline-flex items-center justify-center flex-shrink-0 w-8 h-8 text-red-500 bg-red-100 rounded-lg dark:bg-red-800 dark:text-red-200"},cr=(0,o.Lk)("svg",{class:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[(0,o.Lk)("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 11.793a1 1 0 1 1-1.414 1.414L10 11.414l-2.293 2.293a1 1 0 0 1-1.414-1.414L8.586 10 6.293 7.707a1 1 0 0 1 1.414-1.414L10 8.586l2.293-2.293a1 1 0 0 1 1.414 1.414L11.414 10l2.293 2.293Z"})],-1),nr=(0,o.Lk)("span",{class:"sr-only"},"Error icon",-1),ir=[cr,nr],dr={class:"ml-3 text-sm font-normal"},ur=(0,o.Lk)("span",{class:"sr-only"},"Close",-1),mr=(0,o.Lk)("svg",{"aria-hidden":"true",class:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[(0,o.Lk)("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),gr=[ur,mr];var pr={__name:"ToastListItem",props:{message:Object,duration:{type:Number,default:2e3}},emits:["remove"],setup(e,{emit:t}){const r=e;(0,o.sV)((()=>{setTimeout((()=>a("remove")),r.duration)}));const a=t;return(e,t)=>((0,o.uX)(),(0,o.CE)("div",tr,["Error"!=r.message.type?((0,o.uX)(),(0,o.CE)("div",rr,sr)):(0,o.Q3)("",!0),"Error"==r.message.type?((0,o.uX)(),(0,o.CE)("div",lr,ir)):(0,o.Q3)("",!0),(0,o.Lk)("div",dr,(0,n.v_)(r.message.text),1),(0,o.Lk)("button",{onClick:t[0]||(t[0]=e=>a("remove")),type:"button",class:"-mx-1.5 -my-1.5 ml-auto inline-flex h-8 w-8 rounded-lg bg-white p-1.5 text-gray-400 hover:bg-gray-100 hover:text-gray-900 focus:ring-2 focus:ring-gray-300 dark:bg-gray-800 dark:text-gray-500 dark:hover:bg-gray-700 dark:hover:text-white","data-dismiss-target":"#toast-default","aria-label":"Close"},gr)]))}};const vr=pr;var fr=vr,yr={__name:"ToastList",setup(e){function t(e){f.remove(e)}return(e,r)=>((0,o.uX)(),(0,o.Wv)(a.F,{tag:"div","enter-from-class":"translate-x-full opacity-0","enter-active-class":"transition-all duration-500","leave-active-class":"transition-all duration-500","leave-to-class":"translate-x-full opacity-0","move-class":"transform transition-all duration-500",class:"fixed top-8 right-8 z-90 w-full max-w-xs space-y-4 toastList"},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)((0,i.R1)(f).items,((e,r)=>((0,o.uX)(),(0,o.Wv)(fr,{key:e.key,message:e.message,type:e.type,duration:5500,onRemove:e=>t(r),class:"transform transition-all duration-500"},null,8,["message","type","onRemove"])))),128))])),_:1}))}};const hr=yr;var br=hr,_r={name:"App",components:{SecondaryComp:Gt,ToggleLightDarkMode:er,ToastList:br}};const kr=(0,_e.A)(_r,[["render",c]]);var xr=kr;(0,a.Ef)(xr).mount("#secondaryApp")}},t={};function r(a){var o=t[a];if(void 0!==o)return o.exports;var s=t[a]={exports:{}};return e[a].call(s.exports,s,s.exports,r),s.exports}r.m=e,function(){var e=[];r.O=function(t,a,o,s){if(!a){var l=1/0;for(d=0;d<e.length;d++){a=e[d][0],o=e[d][1],s=e[d][2];for(var c=!0,n=0;n<a.length;n++)(!1&s||l>=s)&&Object.keys(r.O).every((function(e){return r.O[e](a[n])}))?a.splice(n--,1):(c=!1,s<l&&(l=s));if(c){e.splice(d--,1);var i=o();void 0!==i&&(t=i)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[a,o,s]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.j=524}(),function(){var e={524:0,996:0};r.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,s,l=a[0],c=a[1],n=a[2],i=0;if(l.some((function(t){return 0!==e[t]}))){for(o in c)r.o(c,o)&&(r.m[o]=c[o]);if(n)var d=n(r)}for(t&&t(a);i<l.length;i++)s=l[i],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return r.O(d)},a=self["webpackChunkmy_chrome_extension"]=self["webpackChunkmy_chrome_extension"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=r.O(void 0,[504,996],(function(){return r(2749)}));a=r.O(a)})();
//# sourceMappingURL=app.68f3b3d7.js.map